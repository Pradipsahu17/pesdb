-- FUNCTION: core.update_non_corporate_customers(bigint, character varying, character varying, character varying, integer, timestamp without time zone, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, integer, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, integer, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, integer, integer, integer, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying)

-- DROP FUNCTION IF EXISTS core.update_non_corporate_customers(bigint, character varying, character varying, character varying, integer, timestamp without time zone, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, integer, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, integer, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, integer, integer, integer, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying, character varying);

CREATE OR REPLACE FUNCTION core.update_non_corporate_customers(
	customer_id_ bigint,
	first_name_ character varying,
	middle_name_ character varying,
	last_name_ character varying,
	gender_id_ integer,
	date_of_birth_ timestamp without time zone,
	birth_place_ character varying,
	citizenship_number_ character varying,
	citizenship_issue_place_ character varying,
	driving_license_number_ character varying,
	driving_license_place_ character varying,
	passport_number_ character varying,
	passport_issue_place_ character varying,
	occupation_ character varying,
	introduced_by_name_ character varying,
	introducer_account_number_ character varying,
	introducer_bank_name_ character varying,
	marital_status_id_ integer,
	spouse_name_ character varying,
	spouse_contact_number_ character varying,
	father_name_ character varying,
	father_contact_number_ character varying,
	mother_name_ character varying,
	mother_contact_number_ character varying,
	grand_father_name_ character varying,
	grand_father_contact_number_ character varying,
	permanent_address_ character varying,
	permanent_address_zone_ character varying,
	permanent_address_district_ character varying,
	permanent_address_country_ character varying,
	temporary_address_ character varying,
	temporary_address_zone_ character varying,
	temporary_address_district_ character varying,
	temporary_address_country_ character varying,
	residence_number_ character varying,
	cell_number_ character varying,
	email_address_ character varying,
	employer_name_ character varying,
	employer_registration_office_ character varying,
	employer_branch_ character varying,
	employer_contact_ character varying,
	designation_ character varying,
	employer_fax_ character varying,
	employer_email_ character varying,
	employer_url_ character varying,
	heir_name_ character varying,
	heir_address_ character varying,
	heir_contact_ character varying,
	heir_relation_ character varying,
	nominee_name_ character varying,
	nominee_address_ character varying,
	nominee_contact_ character varying,
	nominee_relation_ character varying,
	issued_date_ character varying,
	cast_id_ integer,
	ward_number_ character varying,
	national_identity_number_ character varying,
	personal_pan_number_ character varying,
	municipality_name_ character varying,
	annual_income_ character varying,
	sons_ character varying,
	daughters_ character varying,
	nepali_name_ character varying,
	nepali_address_ character varying,
	qualification_id_ integer,
	income_source_id_ integer,
	resident_type_id_ integer,
	voter_id_number_ character varying,
	voting_place_ character varying,
	temp_ward_number_ character varying,
	temp_municipality_name_ character varying,
	driving_license_issue_date_ character varying,
	driving_license_expiry_date_ character varying,
	passport_issue_date_ character varying,
	passport_expiry_date_ character varying,
	number_of_transaction_withdraw_annually_ character varying,
	number_of_transaction_deposit_annually_ character varying,
	house_owner_name_ character varying,
	house_owner_contact_number_ character varying,
	father_name_np_ character varying,
	grand_father_name_np_ character varying)
    RETURNS void
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE PARALLEL UNSAFE
AS $BODY$

BEGIN        
    -- non_corporate_customers
        UPDATE core.non_corporate_customers SET first_name = $2,
        middle_name = $3,
        last_name = $4,
        gender_id = $5,
        date_of_birth = $6,
        birth_place = $7,
		citizenship_number = $8,
        citizenship_issue_place = $9,
        driving_license_number = $10,
		driving_license_place = $11,
        passport_number = $12,
        passport_issue_place = $13,
        occupation = $14,
        introduced_by_name = $15,
        introducer_account_number = $16,
        introducer_bank_name = $17,
        marital_status_id = $18,
        spouse_name = $19,
        spouse_contact_number = $20,
		father_name = $21,
        father_contact_number = $22,
        mother_name = $23,
        mother_contact_number = $24,
        grand_father_name = $25,
        grand_father_contact_number = $26,
        permanent_address = $27,
        permanent_address_zone = $28,
        permanent_address_district = $29,
        permanent_address_country = $30,
        temporary_address = $31,
        temporary_address_zone = $32,
        temporary_address_district = $33,
        temporary_address_country = $34,
        residence_number = $35,
		cell_number = $36,
        email_address = $37,
        employer_name = $38,
        employer_registration_office = $39,
        employer_branch = $40,
        employer_contact = $41,
        designation = $42,
        employer_fax = $43,
        employer_email = $44,
        employer_url = $45,
        heir_name = $46,
        heir_address = $47,
        heir_contact = $48,
        heir_relation = $49,
        nominee_name = $50,
        nominee_address = $51,
        nominee_contact = $52,
        nominee_relation = $53,
        issued_date = $54,
        cast_id = $55,
		ward_number=$56,
		national_identity_number =$57,
		personal_pan_number = $58,
        municipality_name = $59,
        annual_income = $60,
        sons = $61,
        daughters = $62,
        nepali_name = $63,
        nepali_address = $64,
        qualification_id = $65,
		income_source_id = $66,
        resident_type_id = $67,
		voter_id_number = $68,
        voting_place = $69,
		temp_ward_number=COALESCE($70, temp_ward_number),
        temp_municipality_name = $71,
        driving_license_issue_date = $72,
        driving_license_expiry_date = $73,
        passport_issue_date = $74,
        passport_expiry_date = $75,
        number_of_transaction_withdraw_annually =COALESCE($76, number_of_transaction_withdraw_annually),
        number_of_transaction_deposit_annually = COALESCE($77, number_of_transaction_deposit_annually),
        house_owner_name = $78,
        house_owner_contact_number = $79,
        father_name_np = $80,
        grand_father_name_np = $81
  WHERE customer_id = $1;  
END
$BODY$;
